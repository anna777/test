{"ast":null,"code":"var _jsxFileName = \"/home/anna/synergy-way-task/frontend/gui/src/components/StudentForm.js\";\nimport React from 'react';\nimport StudentListCompoment from '../components/StudentList';\nimport axios from 'axios';\nimport StudentsService from '../services/StudentsService';\nconst studentsService = new StudentsService();\n\nclass StudentForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      groups: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    var self = this;\n    studentsService.getGroups().then(result => {\n      self.setState({\n        groups: result\n      });\n    });\n    const params = this.props.match.params;\n\n    if (params && params.pk) {\n      customersService.getCustomer(params.pk).then(c => {\n        this.refs.firstName.value = c.first_name;\n        this.refs.lastName.value = c.last_name;\n        this.refs.email.value = c.email;\n        this.refs.phone.value = c.phone;\n        this.refs.address.value = c.address;\n        this.refs.description.value = c.description;\n      });\n    }\n\n    ;\n  }\n\n  handleSubmit(event) {\n    const params = this.props.match.params;\n\n    if (params && params.pk) {\n      this.handleUpdate(params.pk);\n    } else {\n      this.handleCreate();\n    }\n\n    event.preventDefault();\n  }\n\n  handleCreate() {\n    studentsService.createStudent({\n      \"username\": this.refs.username.value,\n      \"group\": this.refs.group.value\n    }).then(result => {\n      alert(\"Customer created!\");\n    }).catch(() => {\n      alert('There was an error! Please re-check your form.');\n    });\n  }\n\n  handleUpdate(pk) {\n    studentsService.updateStudent({\n      \"id\": pk,\n      \"username\": this.refs.username.value,\n      \"group\": this.refs.group.value\n    }).then(result => {\n      alert(\"Customer updated!\");\n    }).catch(() => {\n      alert('There was an error! Please re-check your form.');\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal\",\n      tabindex: \"-1\",\n      role: \"dialog\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal-dialog\",\n      role: \"document\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      class: \"modal-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Edit student\"), React.createElement(\"button\", {\n      type: \"button\",\n      class: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"\\xD7\"))), React.createElement(\"div\", {\n      class: \"modal-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Student Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      id: \"username\",\n      placeholder: \"Your full Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"groups\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Select Group\"), React.createElement(\"select\", {\n      class: \"form-control\",\n      id: \"groups\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, this.props.data.map((group, index) => React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"group.name\")))))), React.createElement(\"div\", {\n      class: \"modal-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Close\"), React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Save changes\"))))));\n  }\n\n}\n\nexport default StudentForm;","map":{"version":3,"sources":["/home/anna/synergy-way-task/frontend/gui/src/components/StudentForm.js"],"names":["React","StudentListCompoment","axios","StudentsService","studentsService","StudentForm","Component","constructor","props","state","groups","handleSubmit","bind","componentDidMount","self","getGroups","then","result","setState","params","match","pk","customersService","getCustomer","c","refs","firstName","value","first_name","lastName","last_name","email","phone","address","description","event","handleUpdate","handleCreate","preventDefault","createStudent","username","group","alert","catch","updateStudent","render","data","map","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport StudentListCompoment from '../components/StudentList'\nimport axios from 'axios'\n\nimport StudentsService from '../services/StudentsService'\n\nconst  studentsService  =  new  StudentsService();\n\n\nclass StudentForm extends React.Component{\nconstructor(props){\nsuper(props);\nthis.state={\ngroups:[]}\nthis.handleSubmit = this.handleSubmit.bind(this)}\n\ncomponentDidMount(){\n var  self  =  this;\n studentsService.getGroups().then(result=> {\n        self.setState({ groups:  result})\n    });\n const { match: { params } } =  this.props;\n    if(params  &&  params.pk)\n    {\n        customersService.getCustomer(params.pk).then((c)=>{\n            this.refs.firstName.value  =  c.first_name;\n            this.refs.lastName.value  =  c.last_name;\n            this.refs.email.value  =  c.email;\n            this.refs.phone.value  =  c.phone;\n            this.refs.address.value  =  c.address;\n            this.refs.description.value  =  c.description;\n        })\n    };\n\n        };\n\nhandleSubmit(event) {\n    const { match: { params } } =  this.props;\n    if(params  &&  params.pk){\n        this.handleUpdate(params.pk);\n    }\n    else\n    {\n        this.handleCreate();\n    }\n    event.preventDefault();\n}\nhandleCreate(){\n    studentsService.createStudent(\n        {\n        \"username\":  this.refs.username.value,\n        \"group\":  this.refs.group.value,\n\n        }).then((result)=>{\n                alert(\"Customer created!\");\n        }).catch(()=>{\n                alert('There was an error! Please re-check your form.');\n        });\n}\n\nhandleUpdate(pk){\nstudentsService.updateStudent(\n    {\n   \"id\":pk,\n   \"username\":  this.refs.username.value,\n        \"group\":  this.refs.group.value\n    }\n    ).then((result)=>{\n\n        alert(\"Customer updated!\");\n    }).catch(()=>{\n        alert('There was an error! Please re-check your form.');\n    });\n}\nrender(){\nreturn (\n<div><div class=\"modal\" tabindex=\"-1\" role=\"dialog\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\">Edit student</h5>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n  <form onSubmit={this.handleSubmit}>\n  <div class=\"form-group\">\n    <label for=\"username\">Student Name</label>\n    <input type=\"text\" class=\"form-control\" id=\"username\" placeholder=\"Your full Name\"/>\n  </div>\n  <div class=\"form-group\">\n    <label for=\"groups\">Select Group</label>\n    <select class=\"form-control\" id=\"groups\">\n    {this.props.data.map((group, index)=>\n      <option>group.name</option>\n     )}\n    </select>\n  </div>\n  </form>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div></div>\n\n\n\n)}\n}\nexport default StudentForm;"]},"metadata":{},"sourceType":"module"}